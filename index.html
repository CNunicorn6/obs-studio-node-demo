<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World!</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
    <style>
      #preview {
        margin-top: 2rem;
      }
      .performanceStatistics {
        margin-top: 2rem;
        margin-bottom: 3rem;
        border-collapse: collapse;
      }
      .performanceStatistics tr,
      td {
        border-bottom: 1px solid rgb(165, 165, 165);
        border-top: 1px solid rgb(165, 165, 165);
        padding: 0.5rem;
      }
      .d-block {
        display: block;
      }
      .border {
        border: 1px solid grey;
        border-radius: 1rem;
        padding: 0.5rem;
        margin-bottom: 1rem;
      }
    </style>
  </head>
  <body>
    <h1>Hello from OBS Studio Node!</h1>

    <div class="d-block border">
      <b>Recording:</b><br />
      <button id="rec-button" onclick="switchRecording()">
        â³ Initializing, please wait...
      </button>

      <span id="rec-timer">0:00:00.0</span>

      <button title="Open folder with videos" onclick="openFolder()">ğŸ“‚</button>
    </div>
    <div class="d-block border">
      <b>Virtual Camera:</b><br />
      <button
        id="install-virtual-cam-plugin-button"
        onclick="installVirtualCamPlugin()"
      >
        Install Plugin
      </button>
      <button
        id="uninstall-virtual-cam-plugin-button"
        onclick="uninstallVirtualCamPlugin()"
      >
        Uninstall Plugin
      </button>
      <button id="start-virtual-cam-button" onclick="startVirtualCam()">
        Start Virtual Camera
      </button>
      <button id="stop-virtual-cam-button" onclick="stopVirtualCam()">
        Stop Virtual Camera
      </button>
      <span id="virtual-cam-plugin-status">...</span>
    </div>
    <div class="d-block border">
      <b>è®¾ç½®:</b><br />
      é€‰æ‹©æ˜¾ç¤ºå™¨:
      <select id="displaySelect" onchange="displaySelectChange()"></select>
      <br />
      é€‰æ‹©æ‘„åƒå¤´:
      <select id="cameraSelect" onchange="cameraSelectChange()"></select>
    </div>
    <div class="d-block border">
      <b>RTMPå‚æ•°è®¾ç½®:</b><br />
      rtmp_server:
      <input id="rtmp_server" />
      rtmp_key:
      <input id="rtmp_key" />
      <button id="savertmp" onclick="saveSetting()">ä¿å­˜é…ç½®</button>
      <button id="streaming" onclick="streaming()">å¼€å§‹ç›´æ’­</button>
    </div>
    <div class="d-block border">
      <b>
        ç”¨äºæŸ¥çœ‹obsä¸­çš„è®¾ç½®åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®obsRecorder.jsä¸­çš„setSettingæ–¹æ³•ä¿®æ”¹å¯¹åº”çš„å€¼(æ³¨æ„æœ‰äº›å€¼éœ€è¦é‡å¯è½¯ä»¶)
      </b><br />
      settingåˆ†ç±»:
      <select id="OBSSettingsCategories">
        <option value="General">General</option>
        <option value="Stream">Stream</option>
        <option value="Output">Output</option>
        <option value="Audio">Audio</option>
        <option value="Video">Video</option>
        <option value="Hotkeys">Hotkeys</option>
        <option value="Advanced">Advanced</option>
      </select>

      <button id="showSetting-button" onclick="getSetting()">æ§åˆ¶å°æ˜¾ç¤º</button>
    </div>
    <div class="d-block border">
      <label
        >åœºæ™¯(scene):
        <select id="sceneSelect" multiple size="5"></select>
      </label>

      <label
        >æº(source):
        <select
          onchange="showSourceInfo()"
          id="sourceSelect"
          multiple
          size="5"
        ></select>
      </label>
    </div>
    <pre id="response"></pre>

    <div id="preview">Initializing...</div>

    <table class="performanceStatistics">
      <tr>
        <td>CPU</td>
        <td>
          <meter
            id="cpuMeter"
            value="0"
            min="0"
            optimum="50"
            low="65"
            high="80"
            max="100"
          ></meter>
          <span id="cpu">Loading...</span>
        </td>
      </tr>
      <tr>
        <td>Dropped frames</td>
        <td id="numberDroppedFrames">Loading...</td>
      </tr>
      <tr>
        <td>Dropped frames</td>
        <td id="percentageDroppedFrames">Loading...</td>
      </tr>
      <tr>
        <td>Bandwidth</td>
        <td id="bandwidth">Loading...</td>
      </tr>
      <tr>
        <td>Framerate</td>
        <td id="frameRate">Loading...</td>
      </tr>
    </table>

    <pre>
    We are using node <script>document.write(process.versions.node)</script>,
    Chrome <script>document.write(process.versions.chrome)</script>,
    and Electron <script>document.write(process.versions.electron)</script>.
    </pre>

    <script src="./renderer.js"></script>
  </body>
</html>
